[gd_scene load_steps=7 format=2]

[ext_resource path="res://graphics/Background.tscn" type="PackedScene" id=1]
[ext_resource path="res://graphics/BeatLane.tscn" type="PackedScene" id=2]
[ext_resource path="res://music/24-Hour Cinderella Eurobeat Remix.wav" type="AudioStream" id=3]
[ext_resource path="res://scenes/RhythmSession.gd" type="Script" id=4]
[ext_resource path="res://scripts/BeatMapGenerator.gd" type="Script" id=5]
[ext_resource path="res://scenes/MusicPlayer.gd" type="Script" id=6]

[node name="RhythmSession" type="Control"]
margin_right = 1280.0
margin_bottom = 720.0
script = ExtResource( 4 )

[node name="Background" parent="." instance=ExtResource( 1 )]

[node name="MarginContainer" type="MarginContainer" parent="."]
margin_right = 1280.0
margin_bottom = 648.0

[node name="BeatLanes" type="HBoxContainer" parent="MarginContainer"]
margin_right = 1280.0
margin_bottom = 648.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 5
size_flags_vertical = 5
custom_constants/separation = 96
alignment = 1

[node name="BeatLane" parent="MarginContainer/BeatLanes" instance=ExtResource( 2 )]
anchor_left = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 240.0
margin_right = 368.0
margin_bottom = 648.0
size_flags_horizontal = 5
key_press = "beat_a"

[node name="BeatLane2" parent="MarginContainer/BeatLanes" instance=ExtResource( 2 )]
anchor_left = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 464.0
margin_right = 592.0
margin_bottom = 648.0
size_flags_horizontal = 5
key_press = "beat_s"

[node name="BeatLane3" parent="MarginContainer/BeatLanes" instance=ExtResource( 2 )]
anchor_left = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 688.0
margin_right = 816.0
margin_bottom = 648.0
size_flags_horizontal = 5
key_press = "beat_d"

[node name="BeatLane4" parent="MarginContainer/BeatLanes" instance=ExtResource( 2 )]
anchor_left = 0.0
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 912.0
margin_right = 1040.0
margin_bottom = 648.0
size_flags_horizontal = 5
key_press = "beat_f"

[node name="MusicPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 3 )
volume_db = -80.0
script = ExtResource( 6 )

[node name="BeatMapGenerator" type="Node" parent="."]
script = ExtResource( 5 )

[node name="StartTimer" type="Timer" parent="."]
wait_time = 3.0
one_shot = true
autostart = true

[connection signal="beat_channels_ready" from="." to="MarginContainer/BeatLanes/BeatLane" method="_on_beat_channels_ready"]
[connection signal="beat_channels_ready" from="." to="MarginContainer/BeatLanes/BeatLane2" method="_on_beat_channels_ready"]
[connection signal="beat_channels_ready" from="." to="MarginContainer/BeatLanes/BeatLane3" method="_on_beat_channels_ready"]
[connection signal="beat_channels_ready" from="." to="MarginContainer/BeatLanes/BeatLane4" method="_on_beat_channels_ready"]
[connection signal="pressed_beat" from="MarginContainer/BeatLanes/BeatLane" to="." method="_on_pressed_beat"]
[connection signal="pressed_beat" from="MarginContainer/BeatLanes/BeatLane2" to="." method="_on_pressed_beat"]
[connection signal="pressed_beat" from="MarginContainer/BeatLanes/BeatLane3" to="." method="_on_pressed_beat"]
[connection signal="pressed_beat" from="MarginContainer/BeatLanes/BeatLane4" to="." method="_on_pressed_beat"]
[connection signal="audio_progressed" from="MusicPlayer" to="MarginContainer/BeatLanes/BeatLane" method="_on_audio_progressed"]
[connection signal="audio_progressed" from="MusicPlayer" to="MarginContainer/BeatLanes/BeatLane2" method="_on_audio_progressed"]
[connection signal="audio_progressed" from="MusicPlayer" to="MarginContainer/BeatLanes/BeatLane3" method="_on_audio_progressed"]
[connection signal="audio_progressed" from="MusicPlayer" to="MarginContainer/BeatLanes/BeatLane4" method="_on_audio_progressed"]
